#![allow(non_snake_case)]
#![cfg(test)]

use super::analyse;
use crate::gather_modules;
use rstest::rstest;

#[rstest]
#[case("valid/scope/scopeRedefine.wacc", include_str!("valid/scope/scopeRedefine.wacc"), vec![])]
#[case("valid/scope/scopeBasic.wacc", include_str!("valid/scope/scopeBasic.wacc"), vec![])]
#[case("valid/scope/ifNested1.wacc", include_str!("valid/scope/ifNested1.wacc"), vec![])]
#[case("valid/scope/scopeSimpleRedefine.wacc", include_str!("valid/scope/scopeSimpleRedefine.wacc"), vec![])]
#[case("valid/scope/scopeWhileNested.wacc", include_str!("valid/scope/scopeWhileNested.wacc"), vec![])]
#[case("valid/scope/scopeIfRedefine.wacc", include_str!("valid/scope/scopeIfRedefine.wacc"), vec![])]
#[case("valid/scope/ifNested2.wacc", include_str!("valid/scope/ifNested2.wacc"), vec![])]
#[case("valid/scope/scopeWhileRedefine.wacc", include_str!("valid/scope/scopeWhileRedefine.wacc"), vec![])]
#[case("valid/scope/intsAndKeywords.wacc", include_str!("valid/scope/intsAndKeywords.wacc"), vec![])]
#[case("valid/scope/printAllTypes.wacc", include_str!("valid/scope/printAllTypes.wacc"), vec![])]
#[case("valid/scope/scopeVars.wacc", include_str!("valid/scope/scopeVars.wacc"), vec![])]
#[case("valid/scope/indentationNotImportant.wacc", include_str!("valid/scope/indentationNotImportant.wacc"), vec![])]
#[case("valid/scope/scope.wacc", include_str!("valid/scope/scope.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intnegateOverflow2.wacc", include_str!("valid/runtimeErr/integerOverflow/intnegateOverflow2.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intWayOverflow.wacc", include_str!("valid/runtimeErr/integerOverflow/intWayOverflow.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intmultOverflow.wacc", include_str!("valid/runtimeErr/integerOverflow/intmultOverflow.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intJustOverflow.wacc", include_str!("valid/runtimeErr/integerOverflow/intJustOverflow.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intnegateOverflow.wacc", include_str!("valid/runtimeErr/integerOverflow/intnegateOverflow.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intnegateOverflow4.wacc", include_str!("valid/runtimeErr/integerOverflow/intnegateOverflow4.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intnegateOverflow3.wacc", include_str!("valid/runtimeErr/integerOverflow/intnegateOverflow3.wacc"), vec![])]
#[case("valid/runtimeErr/integerOverflow/intUnderflow.wacc", include_str!("valid/runtimeErr/integerOverflow/intUnderflow.wacc"), vec![])]
#[case("valid/runtimeErr/divideByZero/divZero.wacc", include_str!("valid/runtimeErr/divideByZero/divZero.wacc"), vec![])]
#[case("valid/runtimeErr/divideByZero/divideByZero.wacc", include_str!("valid/runtimeErr/divideByZero/divideByZero.wacc"), vec![])]
#[case("valid/runtimeErr/divideByZero/modByZero.wacc", include_str!("valid/runtimeErr/divideByZero/modByZero.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/readNull2.wacc", include_str!("valid/runtimeErr/nullDereference/readNull2.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/useNull1.wacc", include_str!("valid/runtimeErr/nullDereference/useNull1.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/readNull1.wacc", include_str!("valid/runtimeErr/nullDereference/readNull1.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/useNull2.wacc", include_str!("valid/runtimeErr/nullDereference/useNull2.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/setNull2.wacc", include_str!("valid/runtimeErr/nullDereference/setNull2.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/freeNull.wacc", include_str!("valid/runtimeErr/nullDereference/freeNull.wacc"), vec![])]
#[case("valid/runtimeErr/nullDereference/setNull1.wacc", include_str!("valid/runtimeErr/nullDereference/setNull1.wacc"), vec![])]
#[case("valid/runtimeErr/arrayOutOfBounds/arrayOutOfBounds.wacc", include_str!("valid/runtimeErr/arrayOutOfBounds/arrayOutOfBounds.wacc"), vec![])]
#[case("valid/runtimeErr/arrayOutOfBounds/arrayOutOfBoundsWrite.wacc", include_str!("valid/runtimeErr/arrayOutOfBounds/arrayOutOfBoundsWrite.wacc"), vec![])]
#[case("valid/runtimeErr/arrayOutOfBounds/arrayNegBounds.wacc", include_str!("valid/runtimeErr/arrayOutOfBounds/arrayNegBounds.wacc"), vec![])]
#[case("valid/function/simple_functions/incFunction.wacc", include_str!("valid/function/simple_functions/incFunction.wacc"), vec![])]
#[case("valid/function/simple_functions/functionUpdateParameter.wacc", include_str!("valid/function/simple_functions/functionUpdateParameter.wacc"), vec![])]
#[case("valid/function/simple_functions/functionSimpleLoop.wacc", include_str!("valid/function/simple_functions/functionSimpleLoop.wacc"), vec![])]
#[case("valid/function/simple_functions/functionDoubleReturn.wacc", include_str!("valid/function/simple_functions/functionDoubleReturn.wacc"), vec![])]
#[case("valid/function/simple_functions/sameArgName2.wacc", include_str!("valid/function/simple_functions/sameArgName2.wacc"), vec![])]
#[case("valid/function/simple_functions/functionMultiReturns.wacc", include_str!("valid/function/simple_functions/functionMultiReturns.wacc"), vec![])]
#[case("valid/function/simple_functions/sameNameAsVar.wacc", include_str!("valid/function/simple_functions/sameNameAsVar.wacc"), vec![])]
#[case("valid/function/simple_functions/functionIfReturns.wacc", include_str!("valid/function/simple_functions/functionIfReturns.wacc"), vec![])]
#[case("valid/function/simple_functions/sameArgName.wacc", include_str!("valid/function/simple_functions/sameArgName.wacc"), vec![])]
#[case("valid/function/simple_functions/functionDeclaration.wacc", include_str!("valid/function/simple_functions/functionDeclaration.wacc"), vec![])]
#[case("valid/function/simple_functions/functionManyArguments.wacc", include_str!("valid/function/simple_functions/functionManyArguments.wacc"), vec![])]
#[case("valid/function/simple_functions/negFunction.wacc", include_str!("valid/function/simple_functions/negFunction.wacc"), vec![])]
#[case("valid/function/simple_functions/asciiTable.wacc", include_str!("valid/function/simple_functions/asciiTable.wacc"), vec![])]
#[case("valid/function/simple_functions/functionReturnPair.wacc", include_str!("valid/function/simple_functions/functionReturnPair.wacc"), vec![])]
#[case("valid/function/simple_functions/functionSimple.wacc", include_str!("valid/function/simple_functions/functionSimple.wacc"), vec![])]
#[case("valid/function/nested_functions/fibonacciFullRec.wacc", include_str!("valid/function/nested_functions/fibonacciFullRec.wacc"), vec![])]
#[case("valid/function/nested_functions/printInputTriangle.wacc", include_str!("valid/function/nested_functions/printInputTriangle.wacc"), vec![])]
#[case("valid/function/nested_functions/functionConditionalReturn.wacc", include_str!("valid/function/nested_functions/functionConditionalReturn.wacc"), vec![])]
#[case("valid/function/nested_functions/printTriangle.wacc", include_str!("valid/function/nested_functions/printTriangle.wacc"), vec![])]
#[case("valid/function/nested_functions/mutualRecursion.wacc", include_str!("valid/function/nested_functions/mutualRecursion.wacc"), vec![])]
#[case("valid/function/nested_functions/fixedPointRealArithmetic.wacc", include_str!("valid/function/nested_functions/fixedPointRealArithmetic.wacc"), vec![])]
#[case("valid/function/nested_functions/simpleRecursion.wacc", include_str!("valid/function/nested_functions/simpleRecursion.wacc"), vec![])]
#[case("valid/function/nested_functions/fibonacciRecursive.wacc", include_str!("valid/function/nested_functions/fibonacciRecursive.wacc"), vec![])]
#[case("valid/variables/_VarNames.wacc", include_str!("valid/variables/_VarNames.wacc"), vec![])]
#[case("valid/variables/puncCharDeclaration.wacc", include_str!("valid/variables/puncCharDeclaration.wacc"), vec![])]
#[case("valid/variables/longVarNames.wacc", include_str!("valid/variables/longVarNames.wacc"), vec![])]
#[case("valid/variables/boolDeclaration.wacc", include_str!("valid/variables/boolDeclaration.wacc"), vec![])]
#[case("valid/variables/charDeclaration2.wacc", include_str!("valid/variables/charDeclaration2.wacc"), vec![])]
#[case("valid/variables/zeroIntDeclaration.wacc", include_str!("valid/variables/zeroIntDeclaration.wacc"), vec![])]
#[case("valid/variables/emptyStringDeclaration.wacc", include_str!("valid/variables/emptyStringDeclaration.wacc"), vec![])]
#[case("valid/variables/negIntDeclaration.wacc", include_str!("valid/variables/negIntDeclaration.wacc"), vec![])]
#[case("valid/variables/intDeclaration.wacc", include_str!("valid/variables/intDeclaration.wacc"), vec![])]
#[case("valid/variables/manyVariables.wacc", include_str!("valid/variables/manyVariables.wacc"), vec![])]
#[case("valid/variables/capCharDeclaration.wacc", include_str!("valid/variables/capCharDeclaration.wacc"), vec![])]
#[case("valid/variables/charDeclaration.wacc", include_str!("valid/variables/charDeclaration.wacc"), vec![])]
#[case("valid/variables/boolDeclaration2.wacc", include_str!("valid/variables/boolDeclaration2.wacc"), vec![])]
#[case("valid/variables/stringDeclaration.wacc", include_str!("valid/variables/stringDeclaration.wacc"), vec![])]
#[case("valid/array/arrayLookup.wacc", include_str!("valid/array/arrayLookup.wacc"), vec![])]
#[case("valid/array/arrayBasic.wacc", include_str!("valid/array/arrayBasic.wacc"), vec![])]
#[case("valid/array/arrayEmpty.wacc", include_str!("valid/array/arrayEmpty.wacc"), vec![])]
#[case("valid/array/arrayLength.wacc", include_str!("valid/array/arrayLength.wacc"), vec![])]
#[case("valid/array/arrayNested.wacc", include_str!("valid/array/arrayNested.wacc"), vec![])]
#[case("valid/array/modifyString.wacc", include_str!("valid/array/modifyString.wacc"), vec![])]
#[case("valid/array/arrayPrint.wacc", include_str!("valid/array/arrayPrint.wacc"), vec![])]
#[case("valid/array/arraySimple.wacc", include_str!("valid/array/arraySimple.wacc"), vec![])]
#[case("valid/array/printRef.wacc", include_str!("valid/array/printRef.wacc"), vec![])]
#[case("valid/array/array.wacc", include_str!("valid/array/array.wacc"), vec![])]
#[case("valid/IO/IOLoop.wacc", include_str!("valid/IO/IOLoop.wacc"), vec![])]
#[case("valid/IO/IOSequence.wacc", include_str!("valid/IO/IOSequence.wacc"), vec![])]
#[case("valid/IO/read/echoNegInt.wacc", include_str!("valid/IO/read/echoNegInt.wacc"), vec![])]
#[case("valid/IO/read/echoBigInt.wacc", include_str!("valid/IO/read/echoBigInt.wacc"), vec![])]
#[case("valid/IO/read/read.wacc", include_str!("valid/IO/read/read.wacc"), vec![])]
#[case("valid/IO/read/echoChar.wacc", include_str!("valid/IO/read/echoChar.wacc"), vec![])]
#[case("valid/IO/read/echoInt.wacc", include_str!("valid/IO/read/echoInt.wacc"), vec![])]
#[case("valid/IO/read/echoPuncChar.wacc", include_str!("valid/IO/read/echoPuncChar.wacc"), vec![])]
#[case("valid/IO/read/echoBigNegInt.wacc", include_str!("valid/IO/read/echoBigNegInt.wacc"), vec![])]
#[case("valid/IO/print/printBool.wacc", include_str!("valid/IO/print/printBool.wacc"), vec![])]
#[case("valid/IO/print/print.wacc", include_str!("valid/IO/print/print.wacc"), vec![])]
#[case("valid/IO/print/println.wacc", include_str!("valid/IO/print/println.wacc"), vec![])]
#[case("valid/IO/print/printEscChar.wacc", include_str!("valid/IO/print/printEscChar.wacc"), vec![])]
#[case("valid/IO/print/printChar.wacc", include_str!("valid/IO/print/printChar.wacc"), vec![])]
#[case("valid/IO/print/multipleStringsAssignment.wacc", include_str!("valid/IO/print/multipleStringsAssignment.wacc"), vec![])]
#[case("valid/IO/print/printCharArray.wacc", include_str!("valid/IO/print/printCharArray.wacc"), vec![])]
#[case("valid/IO/print/printCharAsString.wacc", include_str!("valid/IO/print/printCharAsString.wacc"), vec![])]
#[case("valid/IO/print/print-backspace.wacc", include_str!("valid/IO/print/print-backspace.wacc"), vec![])]
#[case("valid/IO/print/print-carridge-return.wacc", include_str!("valid/IO/print/print-carridge-return.wacc"), vec![])]
#[case("valid/IO/print/hashInProgram.wacc", include_str!("valid/IO/print/hashInProgram.wacc"), vec![])]
#[case("valid/IO/print/printInt.wacc", include_str!("valid/IO/print/printInt.wacc"), vec![])]
#[case("valid/while/fibonacciFullIt.wacc", include_str!("valid/while/fibonacciFullIt.wacc"), vec![])]
#[case("valid/while/min.wacc", include_str!("valid/while/min.wacc"), vec![])]
#[case("valid/while/max.wacc", include_str!("valid/while/max.wacc"), vec![])]
#[case("valid/while/whileCount.wacc", include_str!("valid/while/whileCount.wacc"), vec![])]
#[case("valid/while/loopCharCondition.wacc", include_str!("valid/while/loopCharCondition.wacc"), vec![])]
#[case("valid/while/loopIntCondition.wacc", include_str!("valid/while/loopIntCondition.wacc"), vec![])]
#[case("valid/while/whileBoolFlip.wacc", include_str!("valid/while/whileBoolFlip.wacc"), vec![])]
#[case("valid/while/fibonacciIterative.wacc", include_str!("valid/while/fibonacciIterative.wacc"), vec![])]
#[case("valid/while/whileBasic.wacc", include_str!("valid/while/whileBasic.wacc"), vec![])]
#[case("valid/while/rmStyleAdd.wacc", include_str!("valid/while/rmStyleAdd.wacc"), vec![])]
#[case("valid/while/whileFalse.wacc", include_str!("valid/while/whileFalse.wacc"), vec![])]
#[case("valid/while/rmStyleAddIO.wacc", include_str!("valid/while/rmStyleAddIO.wacc"), vec![])]
#[case("valid/expressions/sequentialCount.wacc", include_str!("valid/expressions/sequentialCount.wacc"), vec![])]
#[case("valid/expressions/andExpr.wacc", include_str!("valid/expressions/andExpr.wacc"), vec![])]
#[case("valid/expressions/equalsExpr.wacc", include_str!("valid/expressions/equalsExpr.wacc"), vec![])]
#[case("valid/expressions/charComparisonExpr.wacc", include_str!("valid/expressions/charComparisonExpr.wacc"), vec![])]
#[case("valid/expressions/intExpr1.wacc", include_str!("valid/expressions/intExpr1.wacc"), vec![])]
#[case("valid/expressions/andOverOrExpr.wacc", include_str!("valid/expressions/andOverOrExpr.wacc"), vec![])]
#[case("valid/expressions/minusPlusExpr.wacc", include_str!("valid/expressions/minusPlusExpr.wacc"), vec![])]
#[case("valid/expressions/negBothDiv.wacc", include_str!("valid/expressions/negBothDiv.wacc"), vec![])]
#[case("valid/expressions/plusMinusExpr.wacc", include_str!("valid/expressions/plusMinusExpr.wacc"), vec![])]
#[case("valid/expressions/multNoWhitespaceExpr.wacc", include_str!("valid/expressions/multNoWhitespaceExpr.wacc"), vec![])]
#[case("valid/expressions/equalsOverBool.wacc", include_str!("valid/expressions/equalsOverBool.wacc"), vec![])]
#[case("valid/expressions/equalsOverOr.wacc", include_str!("valid/expressions/equalsOverOr.wacc"), vec![])]
#[case("valid/expressions/negExpr.wacc", include_str!("valid/expressions/negExpr.wacc"), vec![])]
#[case("valid/expressions/notequalsExpr.wacc", include_str!("valid/expressions/notequalsExpr.wacc"), vec![])]
#[case("valid/expressions/longExpr.wacc", include_str!("valid/expressions/longExpr.wacc"), vec![])]
#[case("valid/expressions/negDivisorDiv.wacc", include_str!("valid/expressions/negDivisorDiv.wacc"), vec![])]
#[case("valid/expressions/lessCharExpr.wacc", include_str!("valid/expressions/lessCharExpr.wacc"), vec![])]
#[case("valid/expressions/multExpr.wacc", include_str!("valid/expressions/multExpr.wacc"), vec![])]
#[case("valid/expressions/minusExpr.wacc", include_str!("valid/expressions/minusExpr.wacc"), vec![])]
#[case("valid/expressions/longSplitExpr.wacc", include_str!("valid/expressions/longSplitExpr.wacc"), vec![])]
#[case("valid/expressions/minusNoWhitespaceExpr.wacc", include_str!("valid/expressions/minusNoWhitespaceExpr.wacc"), vec![])]
#[case("valid/expressions/longExpr3.wacc", include_str!("valid/expressions/longExpr3.wacc"), vec![])]
#[case("valid/expressions/negBothMod.wacc", include_str!("valid/expressions/negBothMod.wacc"), vec![])]
#[case("valid/expressions/plusNoWhitespaceExpr.wacc", include_str!("valid/expressions/plusNoWhitespaceExpr.wacc"), vec![])]
#[case("valid/expressions/stringEqualsExpr.wacc", include_str!("valid/expressions/stringEqualsExpr.wacc"), vec![])]
#[case("valid/expressions/modExpr.wacc", include_str!("valid/expressions/modExpr.wacc"), vec![])]
#[case("valid/expressions/ordAndchrExpr.wacc", include_str!("valid/expressions/ordAndchrExpr.wacc"), vec![])]
#[case("valid/expressions/negDividendDiv.wacc", include_str!("valid/expressions/negDividendDiv.wacc"), vec![])]
#[case("valid/expressions/notExpr.wacc", include_str!("valid/expressions/notExpr.wacc"), vec![])]
#[case("valid/expressions/boolExpr1.wacc", include_str!("valid/expressions/boolExpr1.wacc"), vec![])]
#[case("valid/expressions/lessEqExpr.wacc", include_str!("valid/expressions/lessEqExpr.wacc"), vec![])]
#[case("valid/expressions/intCalc.wacc", include_str!("valid/expressions/intCalc.wacc"), vec![])]
#[case("valid/expressions/plusPlusExpr.wacc", include_str!("valid/expressions/plusPlusExpr.wacc"), vec![])]
#[case("valid/expressions/longExpr2.wacc", include_str!("valid/expressions/longExpr2.wacc"), vec![])]
#[case("valid/expressions/equalsOverAnd.wacc", include_str!("valid/expressions/equalsOverAnd.wacc"), vec![])]
#[case("valid/expressions/orExpr.wacc", include_str!("valid/expressions/orExpr.wacc"), vec![])]
#[case("valid/expressions/negDividendMod.wacc", include_str!("valid/expressions/negDividendMod.wacc"), vec![])]
#[case("valid/expressions/plusExpr.wacc", include_str!("valid/expressions/plusExpr.wacc"), vec![])]
#[case("valid/expressions/greaterEqExpr.wacc", include_str!("valid/expressions/greaterEqExpr.wacc"), vec![])]
#[case("valid/expressions/negDivisorMod.wacc", include_str!("valid/expressions/negDivisorMod.wacc"), vec![])]
#[case("valid/expressions/longSplitExpr2.wacc", include_str!("valid/expressions/longSplitExpr2.wacc"), vec![])]
#[case("valid/expressions/minusMinusExpr.wacc", include_str!("valid/expressions/minusMinusExpr.wacc"), vec![])]
#[case("valid/expressions/greaterExpr.wacc", include_str!("valid/expressions/greaterExpr.wacc"), vec![])]
#[case("valid/expressions/lessExpr.wacc", include_str!("valid/expressions/lessExpr.wacc"), vec![])]
#[case("valid/expressions/divExpr.wacc", include_str!("valid/expressions/divExpr.wacc"), vec![])]
#[case("valid/expressions/boolCalc.wacc", include_str!("valid/expressions/boolCalc.wacc"), vec![])]
#[case("valid/sequence/basicSeq.wacc", include_str!("valid/sequence/basicSeq.wacc"), vec![])]
#[case("valid/sequence/intAssignment.wacc", include_str!("valid/sequence/intAssignment.wacc"), vec![])]
#[case("valid/sequence/stringAssignment.wacc", include_str!("valid/sequence/stringAssignment.wacc"), vec![])]
#[case("valid/sequence/basicSeq2.wacc", include_str!("valid/sequence/basicSeq2.wacc"), vec![])]
#[case("valid/sequence/boolAssignment.wacc", include_str!("valid/sequence/boolAssignment.wacc"), vec![])]
#[case("valid/sequence/charAssignment.wacc", include_str!("valid/sequence/charAssignment.wacc"), vec![])]
#[case("valid/sequence/exitSimple.wacc", include_str!("valid/sequence/exitSimple.wacc"), vec![])]
#[case("valid/sequence/intLeadingZeros.wacc", include_str!("valid/sequence/intLeadingZeros.wacc"), vec![])]
#[case("valid/if/if2.wacc", include_str!("valid/if/if2.wacc"), vec![])]
#[case("valid/if/if5.wacc", include_str!("valid/if/if5.wacc"), vec![])]
#[case("valid/if/whitespace.wacc", include_str!("valid/if/whitespace.wacc"), vec![])]
#[case("valid/if/if4.wacc", include_str!("valid/if/if4.wacc"), vec![])]
#[case("valid/if/if6.wacc", include_str!("valid/if/if6.wacc"), vec![])]
#[case("valid/if/ifFalse.wacc", include_str!("valid/if/ifFalse.wacc"), vec![])]
#[case("valid/if/if1.wacc", include_str!("valid/if/if1.wacc"), vec![])]
#[case("valid/if/if3.wacc", include_str!("valid/if/if3.wacc"), vec![])]
#[case("valid/if/ifTrue.wacc", include_str!("valid/if/ifTrue.wacc"), vec![])]
#[case("valid/if/ifBasic.wacc", include_str!("valid/if/ifBasic.wacc"), vec![])]
#[case("valid/advanced/binarySortTree.wacc", include_str!("valid/advanced/binarySortTree.wacc"), vec![])]
#[case("valid/advanced/hashTable.wacc", include_str!("valid/advanced/hashTable.wacc"), vec![])]
#[case("valid/advanced/ticTacToe.wacc", include_str!("valid/advanced/ticTacToe.wacc"), vec![])]
#[case("valid/pairs/null.wacc", include_str!("valid/pairs/null.wacc"), vec![])]
#[case("valid/pairs/createPair.wacc", include_str!("valid/pairs/createPair.wacc"), vec![])]
#[case("valid/pairs/printPairOfNulls.wacc", include_str!("valid/pairs/printPairOfNulls.wacc"), vec![])]
#[case("valid/pairs/createRefPair.wacc", include_str!("valid/pairs/createRefPair.wacc"), vec![])]
#[case("valid/pairs/readPair.wacc", include_str!("valid/pairs/readPair.wacc"), vec![])]
#[case("valid/pairs/free.wacc", include_str!("valid/pairs/free.wacc"), vec![])]
#[case("valid/pairs/printPair.wacc", include_str!("valid/pairs/printPair.wacc"), vec![])]
#[case("valid/pairs/printNullPair.wacc", include_str!("valid/pairs/printNullPair.wacc"), vec![])]
#[case("valid/pairs/checkRefPair.wacc", include_str!("valid/pairs/checkRefPair.wacc"), vec![])]
#[case("valid/pairs/writeSnd.wacc", include_str!("valid/pairs/writeSnd.wacc"), vec![])]
#[case("valid/pairs/createPair02.wacc", include_str!("valid/pairs/createPair02.wacc"), vec![])]
#[case("valid/pairs/createPair03.wacc", include_str!("valid/pairs/createPair03.wacc"), vec![])]
#[case("valid/pairs/writeFst.wacc", include_str!("valid/pairs/writeFst.wacc"), vec![])]
#[case("valid/pairs/printNull.wacc", include_str!("valid/pairs/printNull.wacc"), vec![])]
#[case("valid/pairs/nestedPair.wacc", include_str!("valid/pairs/nestedPair.wacc"), vec![])]
#[case("valid/pairs/linkedList.wacc", include_str!("valid/pairs/linkedList.wacc"), vec![])]
#[case("valid/basic/exit/exitBasic2.wacc", include_str!("valid/basic/exit/exitBasic2.wacc"), vec![])]
#[case("valid/basic/exit/exitBasic.wacc", include_str!("valid/basic/exit/exitBasic.wacc"), vec![])]
#[case("valid/basic/exit/exit-1.wacc", include_str!("valid/basic/exit/exit-1.wacc"), vec![])]
#[case("valid/basic/exit/exitWrap.wacc", include_str!("valid/basic/exit/exitWrap.wacc"), vec![])]
#[case("valid/basic/skip/skip.wacc", include_str!("valid/basic/skip/skip.wacc"), vec![])]
#[case("valid/basic/skip/comment.wacc", include_str!("valid/basic/skip/comment.wacc"), vec![])]
#[case("valid/basic/skip/commentInLine.wacc", include_str!("valid/basic/skip/commentInLine.wacc"), vec![])]
fn semantic_anal_pass(#[case] file_name: &str, #[case] source: &str, #[case] imports: Vec<&str>) {
    let (main_source, modules) = gather_modules(&file_name.to_string().into()).unwrap();
    let res = analyse(&main_source, modules.iter().collect()).map_err(|mut e| {
        e.add_input_file(source, file_name.to_string());
        e
    });
    if let Err(e) = &res {
        println!("{}", e);
    }
    assert!(res.is_ok());
}

#[rstest]
#[case("invalid/syntaxErr/function/funcExpr2.wacc", include_str!("invalid/syntaxErr/function/funcExpr2.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionMissingCall.wacc", include_str!("invalid/syntaxErr/function/functionMissingCall.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionEndingNotReturn.wacc", include_str!("invalid/syntaxErr/function/functionEndingNotReturn.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionMissingParam.wacc", include_str!("invalid/syntaxErr/function/functionMissingParam.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionReturnInLoop.wacc", include_str!("invalid/syntaxErr/function/functionReturnInLoop.wacc"), vec![])]
#[case("invalid/syntaxErr/function/badlyPlaced.wacc", include_str!("invalid/syntaxErr/function/badlyPlaced.wacc"), vec![])]
#[case("invalid/syntaxErr/function/badlyNamed.wacc", include_str!("invalid/syntaxErr/function/badlyNamed.wacc"), vec![])]
#[case("invalid/syntaxErr/function/funcExpr.wacc", include_str!("invalid/syntaxErr/function/funcExpr.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionMissingType.wacc", include_str!("invalid/syntaxErr/function/functionMissingType.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionMissingPType.wacc", include_str!("invalid/syntaxErr/function/functionMissingPType.wacc"), vec![])]
#[case("invalid/syntaxErr/function/thisIsNotC.wacc", include_str!("invalid/syntaxErr/function/thisIsNotC.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionScopeDef.wacc", include_str!("invalid/syntaxErr/function/functionScopeDef.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionLateDefine.wacc", include_str!("invalid/syntaxErr/function/functionLateDefine.wacc"), vec![])]
#[case("invalid/syntaxErr/function/noBodyAfterFuncs.wacc", include_str!("invalid/syntaxErr/function/noBodyAfterFuncs.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionNoReturn.wacc", include_str!("invalid/syntaxErr/function/functionNoReturn.wacc"), vec![])]
#[case("invalid/syntaxErr/function/mutualRecursionNoReturn.wacc", include_str!("invalid/syntaxErr/function/mutualRecursionNoReturn.wacc"), vec![])]
#[case("invalid/syntaxErr/function/functionConditionalNoReturn.wacc", include_str!("invalid/syntaxErr/function/functionConditionalNoReturn.wacc"), vec![])]
#[case("invalid/syntaxErr/variables/badintAssignments.wacc", include_str!("invalid/syntaxErr/variables/badintAssignments.wacc"), vec![])]
#[case("invalid/syntaxErr/variables/bigIntAssignment.wacc", include_str!("invalid/syntaxErr/variables/bigIntAssignment.wacc"), vec![])]
#[case("invalid/syntaxErr/variables/varNoName.wacc", include_str!("invalid/syntaxErr/variables/varNoName.wacc"), vec![])]
#[case("invalid/syntaxErr/variables/badintAssignments2.wacc", include_str!("invalid/syntaxErr/variables/badintAssignments2.wacc"), vec![])]
#[case("invalid/syntaxErr/variables/badintAssignments1.wacc", include_str!("invalid/syntaxErr/variables/badintAssignments1.wacc"), vec![])]
#[case("invalid/syntaxErr/array/arrayExpr.wacc", include_str!("invalid/syntaxErr/array/arrayExpr.wacc"), vec![])]
#[case("invalid/syntaxErr/print/printlnCharArry.wacc", include_str!("invalid/syntaxErr/print/printlnCharArry.wacc"), vec![])]
#[case("invalid/syntaxErr/while/donoErr.wacc", include_str!("invalid/syntaxErr/while/donoErr.wacc"), vec![])]
#[case("invalid/syntaxErr/while/dooErr.wacc", include_str!("invalid/syntaxErr/while/dooErr.wacc"), vec![])]
#[case("invalid/syntaxErr/while/whileNodo.wacc", include_str!("invalid/syntaxErr/while/whileNodo.wacc"), vec![])]
#[case("invalid/syntaxErr/while/whileNodone.wacc", include_str!("invalid/syntaxErr/while/whileNodone.wacc"), vec![])]
#[case("invalid/syntaxErr/while/whilErr.wacc", include_str!("invalid/syntaxErr/while/whilErr.wacc"), vec![])]
#[case("invalid/syntaxErr/expressions/missingOperand2.wacc", include_str!("invalid/syntaxErr/expressions/missingOperand2.wacc"), vec![])]
#[case("invalid/syntaxErr/expressions/printlnConcat.wacc", include_str!("invalid/syntaxErr/expressions/printlnConcat.wacc"), vec![])]
#[case("invalid/syntaxErr/expressions/missingOperand1.wacc", include_str!("invalid/syntaxErr/expressions/missingOperand1.wacc"), vec![])]
#[case("invalid/syntaxErr/sequence/emptySeq.wacc", include_str!("invalid/syntaxErr/sequence/emptySeq.wacc"), vec![])]
#[case("invalid/syntaxErr/sequence/endSeq.wacc", include_str!("invalid/syntaxErr/sequence/endSeq.wacc"), vec![])]
#[case("invalid/syntaxErr/sequence/extraSeq.wacc", include_str!("invalid/syntaxErr/sequence/extraSeq.wacc"), vec![])]
#[case("invalid/syntaxErr/sequence/doubleSeq.wacc", include_str!("invalid/syntaxErr/sequence/doubleSeq.wacc"), vec![])]
#[case("invalid/syntaxErr/sequence/missingSeq.wacc", include_str!("invalid/syntaxErr/sequence/missingSeq.wacc"), vec![])]
#[case("invalid/syntaxErr/if/ifiErr.wacc", include_str!("invalid/syntaxErr/if/ifiErr.wacc"), vec![])]
#[case("invalid/syntaxErr/if/ifNothen.wacc", include_str!("invalid/syntaxErr/if/ifNothen.wacc"), vec![])]
#[case("invalid/syntaxErr/if/ifNoelse.wacc", include_str!("invalid/syntaxErr/if/ifNoelse.wacc"), vec![])]
#[case("invalid/syntaxErr/if/ifNofi.wacc", include_str!("invalid/syntaxErr/if/ifNofi.wacc"), vec![])]
#[case("invalid/syntaxErr/pairs/badLookup02.wacc", include_str!("invalid/syntaxErr/pairs/badLookup02.wacc"), vec![])]
#[case("invalid/syntaxErr/pairs/badLookup01.wacc", include_str!("invalid/syntaxErr/pairs/badLookup01.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/unescapedChar.wacc", include_str!("invalid/syntaxErr/basic/unescapedChar.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/badEscape.wacc", include_str!("invalid/syntaxErr/basic/badEscape.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/badComment2.wacc", include_str!("invalid/syntaxErr/basic/badComment2.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/multipleBegins.wacc", include_str!("invalid/syntaxErr/basic/multipleBegins.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/badComment.wacc", include_str!("invalid/syntaxErr/basic/badComment.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/beginNoend.wacc", include_str!("invalid/syntaxErr/basic/beginNoend.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/bgnErr.wacc", include_str!("invalid/syntaxErr/basic/bgnErr.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/noBody.wacc", include_str!("invalid/syntaxErr/basic/noBody.wacc"), vec![])]
#[case("invalid/syntaxErr/basic/skpErr.wacc", include_str!("invalid/syntaxErr/basic/skpErr.wacc"), vec![])]
#[case("invalid/semanticErr/multiple/funcMess.wacc", include_str!("invalid/semanticErr/multiple/funcMess.wacc"), vec![])]
#[case("invalid/semanticErr/multiple/ifAndWhileErrs.wacc", include_str!("invalid/semanticErr/multiple/ifAndWhileErrs.wacc"), vec![])]
#[case("invalid/semanticErr/multiple/multiTypeErrs.wacc", include_str!("invalid/semanticErr/multiple/multiTypeErrs.wacc"), vec![])]
#[case("invalid/semanticErr/multiple/multiCaseSensitivity.wacc", include_str!("invalid/semanticErr/multiple/multiCaseSensitivity.wacc"), vec![])]
#[case("invalid/semanticErr/multiple/messyExpr.wacc", include_str!("invalid/semanticErr/multiple/messyExpr.wacc"), vec![])]
#[case("invalid/semanticErr/scope/badScopeRedefine.wacc", include_str!("invalid/semanticErr/scope/badScopeRedefine.wacc"), vec![])]
#[case("invalid/semanticErr/read/readTypeErr01.wacc", include_str!("invalid/semanticErr/read/readTypeErr01.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionOverArgs.wacc", include_str!("invalid/semanticErr/function/functionOverArgs.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionBadParam.wacc", include_str!("invalid/semanticErr/function/functionBadParam.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionBadReturn.wacc", include_str!("invalid/semanticErr/function/functionBadReturn.wacc"), vec![])]
#[case("invalid/semanticErr/function/funcVarAccess.wacc", include_str!("invalid/semanticErr/function/funcVarAccess.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionSwapArgs.wacc", include_str!("invalid/semanticErr/function/functionSwapArgs.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionBadCall.wacc", include_str!("invalid/semanticErr/function/functionBadCall.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionUnderArgs.wacc", include_str!("invalid/semanticErr/function/functionUnderArgs.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionBadArgUse.wacc", include_str!("invalid/semanticErr/function/functionBadArgUse.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionAssign.wacc", include_str!("invalid/semanticErr/function/functionAssign.wacc"), vec![])]
#[case("invalid/semanticErr/function/functionRedefine.wacc", include_str!("invalid/semanticErr/function/functionRedefine.wacc"), vec![])]
#[case("invalid/semanticErr/variables/undeclaredVar.wacc", include_str!("invalid/semanticErr/variables/undeclaredVar.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr08.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr08.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr01.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr01.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr10.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr10.wacc"), vec![])]
#[case("invalid/semanticErr/variables/undeclaredVarAccess.wacc", include_str!("invalid/semanticErr/variables/undeclaredVarAccess.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr07.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr07.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr02.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr02.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr06.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr06.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr03.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr03.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr04.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr04.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr05.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr05.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr12.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr12.wacc"), vec![])]
#[case("invalid/semanticErr/variables/doubleDeclare.wacc", include_str!("invalid/semanticErr/variables/doubleDeclare.wacc"), vec![])]
#[case("invalid/semanticErr/variables/caseMatters.wacc", include_str!("invalid/semanticErr/variables/caseMatters.wacc"), vec![])]
#[case("invalid/semanticErr/variables/undeclaredScopeVar.wacc", include_str!("invalid/semanticErr/variables/undeclaredScopeVar.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr11.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr11.wacc"), vec![])]
#[case("invalid/semanticErr/variables/basicTypeErr09.wacc", include_str!("invalid/semanticErr/variables/basicTypeErr09.wacc"), vec![])]
#[case("invalid/semanticErr/print/printTypeErr01.wacc", include_str!("invalid/semanticErr/print/printTypeErr01.wacc"), vec![])]
#[case("invalid/semanticErr/exit/badCharExit.wacc", include_str!("invalid/semanticErr/exit/badCharExit.wacc"), vec![])]
#[case("invalid/semanticErr/exit/globalReturn.wacc", include_str!("invalid/semanticErr/exit/globalReturn.wacc"), vec![])]
#[case("invalid/semanticErr/exit/exitNonInt.wacc", include_str!("invalid/semanticErr/exit/exitNonInt.wacc"), vec![])]
#[case("invalid/semanticErr/IO/readTypeErr.wacc", include_str!("invalid/semanticErr/IO/readTypeErr.wacc"), vec![])]
#[case("invalid/semanticErr/while/falsErr.wacc", include_str!("invalid/semanticErr/while/falsErr.wacc"), vec![])]
#[case("invalid/semanticErr/while/truErr.wacc", include_str!("invalid/semanticErr/while/truErr.wacc"), vec![])]
#[case("invalid/semanticErr/while/whileIntCondition.wacc", include_str!("invalid/semanticErr/while/whileIntCondition.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/exprTypeErr.wacc", include_str!("invalid/semanticErr/expressions/exprTypeErr.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/boolOpTypeErr.wacc", include_str!("invalid/semanticErr/expressions/boolOpTypeErr.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/intOpTypeErr.wacc", include_str!("invalid/semanticErr/expressions/intOpTypeErr.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/moreArrExpr.wacc", include_str!("invalid/semanticErr/expressions/moreArrExpr.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/lessPairExpr.wacc", include_str!("invalid/semanticErr/expressions/lessPairExpr.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/stringElemErr.wacc", include_str!("invalid/semanticErr/expressions/stringElemErr.wacc"), vec![])]
#[case("invalid/semanticErr/expressions/mixedOpTypeErr.wacc", include_str!("invalid/semanticErr/expressions/mixedOpTypeErr.wacc"), vec![])]
#[case("invalid/semanticErr/if/ifIntCondition.wacc", include_str!("invalid/semanticErr/if/ifIntCondition.wacc"), vec![])]
#[case("invalid/semanticErr/pairs/sndNull.wacc", include_str!("invalid/semanticErr/pairs/sndNull.wacc"), vec![])]
#[case("invalid/semanticErr/pairs/fstNull.wacc", include_str!("invalid/semanticErr/pairs/fstNull.wacc"), vec![])]
#[case("invalid/semanticErr/pairs/freeNonPair.wacc", include_str!("invalid/semanticErr/pairs/freeNonPair.wacc"), vec![])]
fn semantic_anal_fail(#[case] file_name: &str, #[case] source: &str, #[case] imports: Vec<&str>) {
    let (main_source, modules) = gather_modules(&file_name.to_string().into()).unwrap();
    let res = analyse(&main_source, modules.iter().collect()).map_err(|mut e| {
        e.add_input_file(source, file_name.to_string());
        e
    });
    if let Ok(p) = &res {
        println!("{:#?}", p);
    }
    assert!(res.is_err());
}
